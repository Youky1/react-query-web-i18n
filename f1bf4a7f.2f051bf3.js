(window.webpackJsonp=window.webpackJsonp||[]).push([[68],{137:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return a})),n.d(t,"metadata",(function(){return i})),n.d(t,"toc",(function(){return c})),n.d(t,"default",(function(){return l}));var r=n(3),o=n(7),u=(n(0),n(142)),a={id:"default-query-function",title:"Default Query Function"},i={unversionedId:"guides&concepts/default-query-function",id:"guides&concepts/default-query-function",isDocsHomePage:!1,title:"Default Query Function",description:"If you find yourself wishing for whatever reason that you could just share the same query function for your entire app and just use query keys to identify what it should fetch, you can do that by providing a default query function to React Query:",source:"@site/docs/guides&concepts/default-query-function.md",slug:"/guides&concepts/default-query-function",permalink:"/react-query-web-i18n/guides&concepts/default-query-function",editUrl:"https://github.com/cangSDARM/react-query-web-i18n/docs/guides&concepts/default-query-function.md",version:"current",lastUpdatedAt:1614595344,sidebar:"zhCN",previous:{title:"Caching Examples",permalink:"/react-query-web-i18n/guides&concepts/caching"},next:{title:"Suspense",permalink:"/react-query-web-i18n/guides&concepts/suspense"}},c=[],s={toc:c};function l(e){var t=e.components,n=Object(o.a)(e,["components"]);return Object(u.b)("wrapper",Object(r.a)({},s,n,{components:t,mdxType:"MDXLayout"}),Object(u.b)("p",null,"If you find yourself wishing for whatever reason that you could just share the same query function for your entire app and just use query keys to identify what it should fetch, you can do that by providing a ",Object(u.b)("strong",{parentName:"p"},"default query function")," to React Query:"),Object(u.b)("pre",null,Object(u.b)("code",{parentName:"pre",className:"language-js"},"// Define a default query function that will receive the query key\nconst defaultQueryFn = async ({ queryKey }) => {\n  const { data } = await axios.get(`https://jsonplaceholder.typicode.com${queryKey[0]}`);\n  return data;\n};\n\n// provide the default query function to your app with defaultOptions\nconst queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      queryFn: defaultQueryFn,\n    },\n  },\n})\n\nfunction App() {\n  return (\n    <QueryClientProvider client={queryClient}>\n      <YourApp />\n    </QueryClientProvider>\n  )\n}\n\n// All you have to do now is pass a key!\nfunction Posts() {\n  const { status, data, error, isFetching } = useQuery('/posts')\n\n  // ...\n}\n\n// You can even leave out the queryFn and just go straight into options\nfunction Post({ postId }) {\n  const { status, data, error, isFetching } = useQuery(`/posts/${postId}`, {\n    enabled: !!postId,\n  })\n\n  // ...\n}\n")),Object(u.b)("p",null,"If you ever want to override the default queryFn, you can just provide your own like you normally would."))}l.isMDXComponent=!0},142:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return d}));var r=n(0),o=n.n(r);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},u=Object.keys(e);for(r=0;r<u.length;r++)n=u[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(r=0;r<u.length;r++)n=u[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=o.a.createContext({}),l=function(e){var t=o.a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=l(e.components);return o.a.createElement(s.Provider,{value:t},e.children)},y={inlineCode:"code",wrapper:function(e){var t=e.children;return o.a.createElement(o.a.Fragment,{},t)}},f=o.a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,u=e.originalType,a=e.parentName,s=c(e,["components","mdxType","originalType","parentName"]),p=l(n),f=r,d=p["".concat(a,".").concat(f)]||p[f]||y[f]||u;return n?o.a.createElement(d,i(i({ref:t},s),{},{components:n})):o.a.createElement(d,i({ref:t},s))}));function d(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var u=n.length,a=new Array(u);a[0]=f;var i={};for(var c in t)hasOwnProperty.call(t,c)&&(i[c]=t[c]);i.originalType=e,i.mdxType="string"==typeof e?e:r,a[1]=i;for(var s=2;s<u;s++)a[s]=n[s];return o.a.createElement.apply(null,a)}return o.a.createElement.apply(null,n)}f.displayName="MDXCreateElement"}}]);